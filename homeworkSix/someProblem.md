# 1 平均查找长度ASL

## 1.1 概述

平均查找长度(Average Search Length)其定义如下
$$
ASL=\sum_{i=1}^{n}{p_ic_i}
$$
其中$n$为查找元素的个数，$p_i$为查找第$i$个元素的概率，通常假设$p_i=\frac{1}{n}$，$c_i$为找到第$i$个元素的比较次数。

## 1.2 顺序查找

若成功查找
$$
ASL_{succeed}=\sum_{i=1}^{n}p_ic_i=\frac{1}{n}\sum_{i=1}^{n}i=\frac{1}{n}*\frac{n(n+1)}{2}=\frac{n+1}{2}
$$
若查找失败
$$
ASL_{fail}=n
$$

## 1.3 二分查找

对于二分查找，给出判定树。树的根为有序数组中间的数据，左子树为左半侧的表，右子树为右半侧的表。从而递归地形成一棵判定树。对于查找的每一个数据，查找的路径长度即为从根节点到最终位置的路径长度。若查找成功，则查找次数为该数据在判定树中的层数或深度；若查找失败，则查找次数为外部节点或者是某个空指针所处的层数。

若查找成功
$$
ASL_{succeed}=\frac{1}{n}\sum_{i=1}^{n}{level(i)}
$$
若查找失败
$$
ASL_{fail}=\frac{1}{num(nullptr)}\sum_{i=1}^{num(nullptr)}{level(nullptr_i)}
$$
平均查找长度
$$
ASL_{average}=\log_{2}{h}
$$

## 1.4 哈希表

哈希表中的ASL 查找成功的**平均查找长度是指查找到哈希表中已有关键字的平均探测次数**；而查找不成功的平均查找长度是指在哈希表中找不到待查的元素，最后找到空位置元素的探测次数平均值。

对于分离连接散列法生成的哈希表，采用链表与红黑树解决哈希冲突问题得到的平均探测次数是不同的。

## 1.5 二叉查找树BST

对于二叉树或者是其他树状存储结构，平均查找长度的分析方法和二分查找的判定树类似，需要考虑树中存储的数据和树中空指针两种情况。

# 2 关于B-树的一道问题

关于$M$阶$B$树的下列说法中正确的是：

1. 每个节点至少有两棵非空子树

    错误。叶子节点没有子树。

2. 树中每个节点至多有$M-1$个关键字

    正确。根节点有$2$到$M$个子树或者其本身就是叶子节点，其他非根非叶节点有$\lceil{M/2}\rceil$到$M$棵子树。

3. 所有叶子节点在同一层

    正确。$B$树定义即所有叶子节点在同一深度。

4. 当插入一个数据项引起$B$树节点分裂后，树长高一层

    错误。只有当分裂持续到根节点时，树才会长高一层。

# 3 关于快速排序的一道问题

下列选项中，不可能是快速排序第二趟排序结果的是

对于这样的问题，首先对给出的数据进行排序得到最终排序结果，然后将最终排序结果与选项进行对比。经过一趟快速排序，至少有一个元素会在其最终位置。对于第二趟排序，若第一趟排序确定的元素在数组的最左边或者是数组的最右边，则第二趟排序只能确定一个元素的位置；否则，第二趟排序能确定两个元素的位置。通过观察选项位置正确的元素个数，选出正确答案。

# 4 折半插入排序

折半插入排序是对直接插入排序的一种改进，在寻找插入元素的位置时，通过采用二分查找的方式，减少元素的比较次数，从而减少运行时间。但是，移动元素的个数并没有发生改变，所以该算法的时间复杂度依然是$O(N^2)$。